<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload File</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
        #uploadContainer {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #uploadImage {
            width: 150px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        #fileName {
            font-size: 16px;
            color: green;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div id="uploadContainer">
        <h2>Upload Your File</h2>
        <!-- Image that acts as upload button -->
        <img id="uploadImage" src="upload-icon.png" alt="Click to Upload">
        <!-- Hidden file input -->
        <input type="file" id="fileInput" accept=".csv, .json" style="display: none;">
        <!-- Display selected file name -->
        <p id="fileName">No file selected</p>
    </div>

    <script>
        // When user clicks on the image, trigger file input
        document.getElementById("uploadImage").addEventListener("click", function() {
            document.getElementById("fileInput").click();
        });

        // When file is selected, display file name
        document.getElementById("fileInput").addEventListener("change", function(event) {
            let file = event.target.files[0];
            if (file) {
                document.getElementById("fileName").textContent = "Selected File: " + file.name;

                // OPTIONAL: Send the file to the backend
                let formData = new FormData();
                formData.append("file", file);

                fetch("/upload", {
                    method: "POST",
                    body: formData
                }).then(response => response.json())
                  .then(data => console.log("Upload successful:", data))
                  .catch(error => console.error("Error uploading file:", error));
            } else {
                document.getElementById("fileName").textContent = "No file selected";
            }
        });
    </script>

</body>
</html>
